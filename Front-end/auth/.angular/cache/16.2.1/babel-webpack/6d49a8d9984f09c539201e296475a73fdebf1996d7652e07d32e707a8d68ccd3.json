{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { User } from 'src/app/model/user';\nexport let LoginComponent = class LoginComponent {\n  constructor(service, router) {\n    this.service = service;\n    this.router = router;\n    this.user = new User();\n    this.userForm = new FormGroup({});\n    this.formError = \"\";\n  }\n  ngOnInit() {\n    if (localStorage.getItem(\"token\")) {\n      this.router.navigate(['/main']);\n    }\n  }\n  LoginUser() {\n    this.service.loginUser(this.user).subscribe({\n      next: res => {\n        const token = JSON.stringify(res);\n        //const dataTobeSave=JSON.parse(token);\n        console.log(token);\n        // localStorage.setItem(\"email\",res.email)\n        //  localStorage.setItem(\"token\",token)\n        // localStorage.setItem(\"token\",'sass')\n        //localStorage.setItem(\"email\",res['email'])\n        localStorage.setItem(\"token\", token);\n        //  localStorage.setItem(\"email\",res.email)\n        this.router.navigate(['/', 'get']);\n      },\n      error: error => console.error(error),\n      complete: () => console.info('User Registered')\n    });\n  }\n  onSubmit() {\n    console.log(this.user);\n    this.LoginUser();\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);","map":{"version":3,"names":["Component","FormGroup","User","LoginComponent","constructor","service","router","user","userForm","formError","ngOnInit","localStorage","getItem","navigate","LoginUser","loginUser","subscribe","next","res","token","JSON","stringify","console","log","setItem","error","complete","info","onSubmit","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\devjy\\OneDrive\\Desktop\\Auth_RestAPI\\Front-end\\auth\\src\\app\\component\\login\\login.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthResponse } from 'src/app/model/authResponse';\nimport { User } from 'src/app/model/user';\nimport { ServiceService } from 'src/app/service/service.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n\n  user:User=new User();\n  userForm: FormGroup = new FormGroup({})\n  formError = \"\"\n\n  \n  constructor(private service:ServiceService,private router:Router){}\n\n  \n\n  ngOnInit(): void {\n\n    if(localStorage.getItem(\"token\")){\n      this.router.navigate(['/main'])\n    }\n  }\n\n\n\n\n  LoginUser(){\n    this.service.loginUser(this.user).subscribe({\n      next: (res) =>{\n\n        \n\n\n        const token=JSON.stringify(res);\n        //const dataTobeSave=JSON.parse(token);\n\n        console.log(token);\n        // localStorage.setItem(\"email\",res.email)\n        //  localStorage.setItem(\"token\",token)\n\n        // localStorage.setItem(\"token\",'sass')\n   //localStorage.setItem(\"email\",res['email'])\n     localStorage.setItem(\"token\",token);\n\n\n      //  localStorage.setItem(\"email\",res.email)\n        this.router.navigate(['/','get'])\n      },\n      error: (error) => console.error(error),\n      complete: () => console.info('User Registered') \n\n  })\n\n  \n  }\n\n  onSubmit(){\n    console.log(this.user)\n    this.LoginUser();\n  }\n\n\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAASC,SAAS,QAAQ,gBAAgB;AAG1C,SAASC,IAAI,QAAQ,oBAAoB;AAQlC,WAAMC,cAAc,GAApB,MAAMA,cAAc;EAOzBC,YAAoBC,OAAsB,EAASC,MAAa;IAA5C,KAAAD,OAAO,GAAPA,OAAO;IAAwB,KAAAC,MAAM,GAANA,MAAM;IALzD,KAAAC,IAAI,GAAM,IAAIL,IAAI,EAAE;IACpB,KAAAM,QAAQ,GAAc,IAAIP,SAAS,CAAC,EAAE,CAAC;IACvC,KAAAQ,SAAS,GAAG,EAAE;EAGoD;EAIlEC,QAAQA,CAAA;IAEN,IAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAC;MAC/B,IAAI,CAACN,MAAM,CAACO,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;;EAEnC;EAKAC,SAASA,CAAA;IACP,IAAI,CAACT,OAAO,CAACU,SAAS,CAAC,IAAI,CAACR,IAAI,CAAC,CAACS,SAAS,CAAC;MAC1CC,IAAI,EAAGC,GAAG,IAAI;QAKZ,MAAMC,KAAK,GAACC,IAAI,CAACC,SAAS,CAACH,GAAG,CAAC;QAC/B;QAEAI,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;QAClB;QACA;QAEA;QACL;QACER,YAAY,CAACa,OAAO,CAAC,OAAO,EAACL,KAAK,CAAC;QAGlC;QACE,IAAI,CAACb,MAAM,CAACO,QAAQ,CAAC,CAAC,GAAG,EAAC,KAAK,CAAC,CAAC;MACnC,CAAC;MACDY,KAAK,EAAGA,KAAK,IAAKH,OAAO,CAACG,KAAK,CAACA,KAAK,CAAC;MACtCC,QAAQ,EAAEA,CAAA,KAAMJ,OAAO,CAACK,IAAI,CAAC,iBAAiB;KAEjD,CAAC;EAGF;EAEAC,QAAQA,CAAA;IACNN,OAAO,CAACC,GAAG,CAAC,IAAI,CAAChB,IAAI,CAAC;IACtB,IAAI,CAACO,SAAS,EAAE;EAClB;CAGD;AAzDYX,cAAc,GAAA0B,UAAA,EAL1B7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,C,EACW7B,cAAc,CAyD1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}